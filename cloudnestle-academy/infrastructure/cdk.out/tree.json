{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.214.0"},"children":{"CloudNestleAcademyStack":{"id":"CloudNestleAcademyStack","path":"CloudNestleAcademyStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"AcademyVPC":{"id":"AcademyVPC","path":"CloudNestleAcademyStack/AcademyVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.214.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"Acl":{"id":"Acl","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademyVPCPublicSubnet1RouteTable906071EA"},"subnetId":{"Ref":"AcademyVPCPublicSubnet1Subnet69D642E7"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AcademyVPCIGW8855BD77"},"routeTableId":{"Ref":"AcademyVPCPublicSubnet1RouteTable906071EA"}}}},"EIP":{"id":"EIP","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"NATGateway":{"id":"NATGateway","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["AcademyVPCPublicSubnet1EIP2135D191","AllocationId"]},"subnetId":{"Ref":"AcademyVPCPublicSubnet1Subnet69D642E7"},"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.214.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"Acl":{"id":"Acl","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademyVPCPublicSubnet2RouteTable4B0C7BAF"},"subnetId":{"Ref":"AcademyVPCPublicSubnet2SubnetD2E5CD2E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CloudNestleAcademyStack/AcademyVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AcademyVPCIGW8855BD77"},"routeTableId":{"Ref":"AcademyVPCPublicSubnet2RouteTable4B0C7BAF"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.214.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"Acl":{"id":"Acl","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademyVPCPrivateSubnet1RouteTable4D5582AE"},"subnetId":{"Ref":"AcademyVPCPrivateSubnet1SubnetFEBBB58E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AcademyVPCPublicSubnet1NATGatewayF0962B9B"},"routeTableId":{"Ref":"AcademyVPCPrivateSubnet1RouteTable4D5582AE"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.214.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"Acl":{"id":"Acl","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AcademyVPCPrivateSubnet2RouteTableBD4493CE"},"subnetId":{"Ref":"AcademyVPCPrivateSubnet2Subnet7B86D7A2"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"CloudNestleAcademyStack/AcademyVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AcademyVPCPublicSubnet1NATGatewayF0962B9B"},"routeTableId":{"Ref":"AcademyVPCPrivateSubnet2RouteTableBD4493CE"}}}}}},"IGW":{"id":"IGW","path":"CloudNestleAcademyStack/AcademyVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Name","value":"CloudNestleAcademyStack/AcademyVPC"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"VPCGW":{"id":"VPCGW","path":"CloudNestleAcademyStack/AcademyVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"AcademyVPCIGW8855BD77"},"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"CloudNestleAcademyStack/AcademyVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CloudNestleAcademyStack/AcademyVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"CloudNestleAcademyStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.214.0"},"children":{"Staging":{"id":"Staging","path":"CloudNestleAcademyStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"Role":{"id":"Role","path":"CloudNestleAcademyStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}},"Handler":{"id":"Handler","path":"CloudNestleAcademyStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"AcademyContentBucket":{"id":"AcademyContentBucket","path":"CloudNestleAcademyStack/AcademyContentBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyContentBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","POST"],"allowedOrigins":["*"]}]},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"CloudNestleAcademyStack/AcademyContentBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyContentBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"AcademyContentBucket9B9B0A2A"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["AcademyDistributionOrigin2S3OriginA78DFB1F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["AcademyContentBucket9B9B0A2A","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"AcademyDatabase":{"id":"AcademyDatabase","path":"CloudNestleAcademyStack/AcademyDatabase","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.214.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"CloudNestleAcademyStack/AcademyDatabase/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"CloudNestleAcademyStack/AcademyDatabase/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for AcademyDatabase database","subnetIds":[{"Ref":"AcademyVPCPrivateSubnet1SubnetFEBBB58E"},{"Ref":"AcademyVPCPrivateSubnet2Subnet7B86D7A2"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}}}},"SecurityGroup":{"id":"SecurityGroup","path":"CloudNestleAcademyStack/AcademyDatabase/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDatabase/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for AcademyDatabase database","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"from CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:5432":{"id":"from CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:5432","path":"CloudNestleAcademyStack/AcademyDatabase/SecurityGroup/from CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:5432","fromPort":5432,"groupId":{"Fn::GetAtt":["AcademyDatabaseSecurityGroup10F39497","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AcademyServiceSecurityGroup4BC1B6AE","GroupId"]},"toPort":5432}}}}},"Secret":{"id":"Secret","path":"CloudNestleAcademyStack/AcademyDatabase/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDatabase/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"academy_admin\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"Attachment":{"id":"Attachment","path":"CloudNestleAcademyStack/AcademyDatabase/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDatabase/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"CloudNestleAcademyStackAcademyDatabaseSecret038FE29F3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"AcademyDatabaseD943C326"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDatabase/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","backupRetentionPeriod":7,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbName":"academy_platform","dbSubnetGroupName":{"Ref":"AcademyDatabaseSubnetGroupE21A76D9"},"deletionProtection":false,"engine":"postgres","engineVersion":"15","masterUsername":"academy_admin","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"CloudNestleAcademyStackAcademyDatabaseSecret038FE29F3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"storageEncrypted":true,"storageType":"gp2","tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcSecurityGroups":[{"Fn::GetAtt":["AcademyDatabaseSecurityGroup10F39497","GroupId"]}]}}}}},"RedisSubnetGroup":{"id":"RedisSubnetGroup","path":"CloudNestleAcademyStack/RedisSubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnSubnetGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::SubnetGroup","aws:cdk:cloudformation:props":{"description":"Subnet group for Redis","subnetIds":[{"Ref":"AcademyVPCPrivateSubnet1SubnetFEBBB58E"},{"Ref":"AcademyVPCPrivateSubnet2Subnet7B86D7A2"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"AcademyRedis":{"id":"AcademyRedis","path":"CloudNestleAcademyStack/AcademyRedis","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticache.CfnCacheCluster","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElastiCache::CacheCluster","aws:cdk:cloudformation:props":{"cacheNodeType":"cache.t3.micro","cacheSubnetGroupName":{"Ref":"RedisSubnetGroup"},"engine":"redis","numCacheNodes":1,"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcSecurityGroupIds":[{"Fn::GetAtt":["AcademyDatabaseSecurityGroup10F39497","GroupId"]}]}}},"AcademyCluster":{"id":"AcademyCluster","path":"CloudNestleAcademyStack/AcademyCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}}}},"AcademyService":{"id":"AcademyService","path":"CloudNestleAcademyStack/AcademyService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.214.0"},"children":{"LB":{"id":"LB","path":"CloudNestleAcademyStack/AcademyService/LB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/LB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["AcademyServiceLBSecurityGroup9465F128","GroupId"]}],"subnets":[{"Ref":"AcademyVPCPublicSubnet1Subnet69D642E7"},{"Ref":"AcademyVPCPublicSubnet2SubnetD2E5CD2E"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"type":"application"}}},"SecurityGroup":{"id":"SecurityGroup","path":"CloudNestleAcademyStack/AcademyService/LB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/LB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB CloudNestleAcademyStackAcademyServiceLB39A20F99","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow from anyone on port 80"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"to CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:3000":{"id":"to CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:3000","path":"CloudNestleAcademyStack/AcademyService/LB/SecurityGroup/to CloudNestleAcademyStackAcademyServiceSecurityGroup306DB5CB:3000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["AcademyServiceSecurityGroup4BC1B6AE","GroupId"]},"fromPort":3000,"groupId":{"Fn::GetAtt":["AcademyServiceLBSecurityGroup9465F128","GroupId"]},"ipProtocol":"tcp","toPort":3000}}}}},"PublicListener":{"id":"PublicListener","path":"CloudNestleAcademyStack/AcademyService/LB/PublicListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/LB/PublicListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"AcademyServiceLBPublicListenerECSGroup27E2082B"}}],"loadBalancerArn":{"Ref":"AcademyServiceLBA81366C2"},"port":80,"protocol":"HTTP"}}},"ECSGroup":{"id":"ECSGroup","path":"CloudNestleAcademyStack/AcademyService/LB/PublicListener/ECSGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.214.0"},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/LB/PublicListener/ECSGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"AcademyVPCA1F5517B"}}}}}}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"CloudNestleAcademyStack/AcademyService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"ServiceURL":{"id":"ServiceURL","path":"CloudNestleAcademyStack/AcademyService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"TaskDef":{"id":"TaskDef","path":"CloudNestleAcademyStack/AcademyService/TaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.214.0","metadata":[]},"children":{"TaskRole":{"id":"TaskRole","path":"CloudNestleAcademyStack/AcademyService/TaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"CloudNestleAcademyStack/AcademyService/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CloudNestleAcademyStack/AcademyService/TaskDef/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AcademyContentBucket9B9B0A2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AcademyContentBucket9B9B0A2A","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"AcademyServiceTaskDefTaskRoleDefaultPolicy9668DF85","roles":[{"Ref":"AcademyServiceTaskDefTaskRole779F03CB"}]}}}}}}},"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"039920874011.dkr.ecr.us-east-1.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-039920874011-us-east-1:4be3ef07c10e532a2db039c348b57485421870eee2b456c409b513398d135d40"},"name":"web","portMappings":[{"containerPort":3000,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AcademyServiceTaskDefwebLogGroup3C011332"},"awslogs-stream-prefix":"AcademyService","awslogs-region":"us-east-1"}},"environment":[{"name":"NODE_ENV","value":"production"},{"name":"AWS_S3_BUCKET","value":{"Ref":"AcademyContentBucket9B9B0A2A"}},{"name":"AWS_REGION","value":"us-east-1"},{"name":"DATABASE_URL","value":{"Fn::Join":["",["postgresql://{{resolve:secretsmanager:",{"Ref":"AcademyDatabaseSecretAttachment1B561889"},":SecretString:username::}}:{{resolve:secretsmanager:",{"Ref":"AcademyDatabaseSecretAttachment1B561889"},":SecretString:password::}}@",{"Fn::GetAtt":["AcademyDatabaseD943C326","Endpoint.Address"]},":5432/{{resolve:secretsmanager:",{"Ref":"AcademyDatabaseSecretAttachment1B561889"},":SecretString:dbname::}}"]]}},{"name":"NEXTAUTH_SECRET","value":"cloudnestle-academy-secret-2025"},{"name":"NEXTAUTH_URL","value":"https://d22xjflyfu64hu.cloudfront.net"},{"name":"NEXT_PUBLIC_ADMIN_EMAIL","value":"admin@cloudnestle.com"},{"name":"ADMIN_EMAIL","value":"admin@cloudnestle.com"},{"name":"GOOGLE_CLIENT_ID","value":"demo-client-id"},{"name":"GOOGLE_CLIENT_SECRET","value":"demo-client-secret"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["AcademyServiceTaskDefExecutionRole0E90C85C","Arn"]},"family":"CloudNestleAcademyStackAcademyServiceTaskDef53CBBA50","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"taskRoleArn":{"Fn::GetAtt":["AcademyServiceTaskDefTaskRole779F03CB","Arn"]}}}},"web":{"id":"web","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.214.0"},"children":{"AssetImage":{"id":"AssetImage","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.214.0"},"children":{"Staging":{"id":"Staging","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"Repository":{"id":"Repository","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.214.0","metadata":[]}}}},"LogGroup":{"id":"LogGroup","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/web/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"CloudNestleAcademyStack/AcademyService/TaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"CloudNestleAcademyStack/AcademyService/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CloudNestleAcademyStack/AcademyService/TaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/TaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-1:039920874011:repository/cdk-hnb659fds-container-assets-039920874011-us-east-1"},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AcademyServiceTaskDefwebLogGroup3C011332","Arn"]}}],"Version":"2012-10-17"},"policyName":"AcademyServiceTaskDefExecutionRoleDefaultPolicy509A7324","roles":[{"Ref":"AcademyServiceTaskDefExecutionRole0E90C85C"}]}}}}}}}}},"Service":{"id":"Service","path":"CloudNestleAcademyStack/AcademyService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.214.0","metadata":[]},"children":{"Service":{"id":"Service","path":"CloudNestleAcademyStack/AcademyService/Service/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"AcademyClusterF0F59B32"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"AcademyServiceLBPublicListenerECSGroup27E2082B"},"containerName":"web","containerPort":3000}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"AcademyVPCPrivateSubnet1SubnetFEBBB58E"},{"Ref":"AcademyVPCPrivateSubnet2Subnet7B86D7A2"}],"securityGroups":[{"Fn::GetAtt":["AcademyServiceSecurityGroup4BC1B6AE","GroupId"]}]}},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"taskDefinition":{"Ref":"AcademyServiceTaskDefA2AEAC12"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"CloudNestleAcademyStack/AcademyService/Service/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyService/Service/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"CloudNestleAcademyStack/AcademyService/Service/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}],"vpcId":{"Ref":"AcademyVPCA1F5517B"}}}},"from CloudNestleAcademyStackAcademyServiceLBSecurityGroup063BF36C:3000":{"id":"from CloudNestleAcademyStackAcademyServiceLBSecurityGroup063BF36C:3000","path":"CloudNestleAcademyStack/AcademyService/Service/SecurityGroup/from CloudNestleAcademyStackAcademyServiceLBSecurityGroup063BF36C:3000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":3000,"groupId":{"Fn::GetAtt":["AcademyServiceSecurityGroup4BC1B6AE","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AcademyServiceLBSecurityGroup9465F128","GroupId"]},"toPort":3000}}}}}}}}},"AcademyDistribution":{"id":"AcademyDistribution","path":"CloudNestleAcademyStack/AcademyDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.214.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"CloudNestleAcademyStack/AcademyDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"CloudNestleAcademyStack/AcademyDistribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3Origin":{"id":"S3Origin","path":"CloudNestleAcademyStack/AcademyDistribution/Origin2/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDistribution/Origin2/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for CloudNestleAcademyStackAcademyDistributionOrigin25FD5BC83"}}}}}}}},"Resource":{"id":"Resource","path":"CloudNestleAcademyStack/AcademyDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["AcademyServiceLBA81366C2","DNSName"]},"id":"CloudNestleAcademyStackAcademyDistributionOrigin1D61F716B","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}},{"domainName":{"Fn::GetAtt":["AcademyContentBucket9B9B0A2A","RegionalDomainName"]},"id":"CloudNestleAcademyStackAcademyDistributionOrigin25FD5BC83","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"AcademyDistributionOrigin2S3OriginA78DFB1F"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"CloudNestleAcademyStackAcademyDistributionOrigin1D61F716B","cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/static/*","targetOriginId":"CloudNestleAcademyStackAcademyDistributionOrigin25FD5BC83","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"}],"httpVersion":"http2","ipv6Enabled":true},"tags":[{"key":"Environment","value":"production"},{"key":"Owner","value":"CloudNestle"},{"key":"Project","value":"cloudnestleacademy"}]}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"CloudNestleAcademyStack/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CloudFrontURL":{"id":"CloudFrontURL","path":"CloudNestleAcademyStack/CloudFrontURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"CloudNestleAcademyStack/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"S3BucketName":{"id":"S3BucketName","path":"CloudNestleAcademyStack/S3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"CloudNestleAcademyStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"CloudNestleAcademyStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CloudNestleAcademyStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CloudNestleAcademyStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}